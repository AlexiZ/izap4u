(()=>{const e=e=>{e.addEventListener("click",()=>{window.location=e.dataset.href})};let t=document.querySelectorAll(".fakeHref");t&&t.forEach(t=>{e(t)});let n=document.querySelectorAll(".infiniteData");n&&n.forEach(t=>{new IntersectionObserver(n=>{if(!0===n[0].isIntersecting){let n=new XMLHttpRequest,r=t.previousElementSibling.cloneNode();n.responseType="json",n.onreadystatechange=(()=>{if(4===n.readyState){if(!n.response[0])return void t.remove();r.src=t.dataset.imagepath+n.response[0].image,r.alt=n.response[0].title;let s=r.dataset.href.split("/");s[s.length-1]=n.response[0].id,r.dataset.href=s.join("/"),e(r),t.parentElement.insertBefore(r,t),(s=t.dataset.url.split("/"))[s.length-1]=n.response[0].id,t.dataset.url=s.join("/")}}),n.open("GET",t.dataset.url,!0),n.send()}},{threshold:[1]}).observe(t)})})();